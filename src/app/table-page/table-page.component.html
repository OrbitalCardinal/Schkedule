<loading-spinner *ngIf="isLoading"></loading-spinner>

<div *ngIf="!isLoading" class="fadeIn">
    <h1>Tabla de actividades</h1>
    <blue-button
    (click)="
        toggleModal(
        {
            id: 5,
            tarea: '',
            estado: '',
            categoria: '',
            fechaInicia: '',
            fechaFinal: ''
        },
        true
        )
    "
    >
    Nueva tarea
    </blue-button>

    <table>
    <thead>
        <tr>
        <th>Tarea</th>
        <th>Estado</th>
        <th>Categor√≠a</th>
        <th>Fecha inicial</th>
        <th>Fecha final</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let tarea of data">
        <td
            class="task"
            (click)="
            toggleModal(
                {
                tarea: tarea['tarea'],
                estado: tarea['estado'],
                categoria: tarea['categoria'],
                fechaInicia: tarea['fechaInicial'],
                fechaFinal: tarea['fechaFinal']
                },
                false
            )
            "
        >
            {{ tarea["tarea"] }}
        </td>
        <td><badge badgeType="{{ tarea['estado'] }}"></badge></td>
        <td>{{ tarea["categoria"] }}</td>
        <td>{{ tarea["fechaInicial"] }}</td>
        <td>{{ tarea["fechaFinal"] }}</td>
        </tr>
    </tbody>
    </table>

    <task-modal
    class="fadeIn"
    *ngIf="modalActive"
    [toggleModalFunction]="toggleModal"
    [taskData]="actualTaskData"
    [isNewTask]="isNewTask"
    [addNewTaskFunction]="addNewTask"
    ></task-modal>
</div>
